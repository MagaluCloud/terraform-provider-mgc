---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "mgc_kubernetes_cluster_kubeconfig Data Source - terraform-provider-mgc"
subcategory: "Kubernetes"
description: |-
  Get the kubeconfig of a Kubernetes cluster by cluster_id.
---

# mgc_kubernetes_cluster_kubeconfig (Data Source)

Retrieves the kubeconfig for a specified Kubernetes cluster using its unique identifier.

## Schema

### Required

- **`cluster_id`** (String): The unique identifier of the Kubernetes cluster. This is used to fetch the corresponding kubeconfig.

### Read-Only

- **`kubeconfig`** (String): The kubeconfig of the specified Kubernetes cluster. This contains all necessary details to connect to your Kubernetes cluster, including API server addresses and authentication details.

## Example Usage

The following example demonstrates how to use this data source to retrieve the kubeconfig for a Kubernetes cluster and then save it as a local file. This is particularly useful for configuring Kubernetes clients or CI/CD pipelines that need to interact with your cluster.

```hcl
terraform {
  required_providers {
    mgc = {
      source = "registry.terraform.io/magalucloud/mgc"
    }
    local = {
      source  = "hashicorp/local"
      version = "2.5.1"
    }
  }
}

provider "mgc" {
  alias = "sudeste"
  region = "br-se1"
  api_key = "YOUR_API_KEY"
}

# Fetch the kubeconfig for the specified Kubernetes cluster
data "mgc_kubernetes_cluster_kubeconfig" "cluster" {
  cluster_id = "a132d346-cfe9-4f0e-bf88-4688437ee8fe"
}

# Save the kubeconfig to a local file
resource "local_file" "kubeconfig" {
  provider = local
  content  = data.mgc_kubernetes_cluster_kubeconfig.cluster.kubeconfig
  filename = "${path.module}/kubeconfig.yaml"
}
```

## Example Output

Below is an example of the kubeconfig file content that will be saved as `kubeconfig.yaml`:

```yaml
apiVersion: v1
clusters:
- cluster:
    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQVRFL0VYQU1QTEUtLS0tLS0tLS0=
    server: https://example-server:6443
  name: example-cluster
contexts:
- context:
    cluster: example-cluster
    user: example-admin
  name: example-admin@example-cluster
current-context: example-admin@example-cluster
kind: Config
preferences: {}
users:
- name: example-admin
  user:
    client-certificate-data: LS0tLS1CRUdJTiBDRVJUSUZJQVRFL0VYQU1QTEUtLS0tLS0tLS0=
    client-key-data: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLS0tLS0=
```

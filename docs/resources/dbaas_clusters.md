---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "mgc_dbaas_clusters Resource - terraform-provider-mgc"
subcategory: "Database"
description: |-
  Manages a DBaaS (Database-as-a-Service) Cluster.
---

# mgc_dbaas_clusters (Resource)

Manages a DBaaS (Database-as-a-Service) Cluster.

## Example Usage

```terraform
resource "mgc_dbaas_clusters" "my_cluster" {
  name                  = "test-cluster"
  user                  = "clusteradmin"
  password              = "aVerySecureClu$terP@ssw0rd"
  engine_name           = "mysql"
  engine_version        = "8.0"
  instance_type         = var.instance_type_label_cluster
  volume_size           = 100
  volume_type           = "CLOUD_NVME15K"
  backup_retention_days = 7
  backup_start_at       = "03:00:00"
  parameter_group_id    = mgc_dbaas_parameter_groups.cluster_pg.id
}

resource "mgc_dbaas_clusters" "my_cluster_no_parameter_group" {
  name                  = "test-cluster-nopg-${random_pet.name.id}"
  user                  = "clusteradmin2"
  password              = "anotherS&cureP@sswordClu1"
  engine_name           = "mysql"
  engine_version        = "8.0"
  instance_type         = var.instance_type_label_cluster
  volume_size           = 50
  backup_retention_days = 5
  backup_start_at       = "02:00:00"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

> **NOTE**: [Write-only arguments](https://developer.hashicorp.com/terraform/language/resources/ephemeral#write-only-arguments) are supported in Terraform 1.11 and later.

- `engine_name` (String) Type of database engine to use (e.g., 'mysql', 'postgresql'). Cannot be changed after creation.
- `engine_version` (String) Version of the database engine (e.g., '8.0', '13.3'). Must be compatible with the selected engine_name. Cannot be changed after creation.
- `instance_type` (String) Compute and memory capacity of the cluster determined by the instance-type field label (e.g., 'DP2-16-40'). Can be changed to scale the instance.
- `name` (String) Name of the DBaaS cluster. Must be unique. Cannot be changed after creation.
- `password` (String, Sensitive, [Write-only](https://developer.hashicorp.com/terraform/language/resources/ephemeral#write-only-arguments)) Master password for the database cluster. Must be at least 8 characters long.  Cannot be changed after creation.
- `user` (String, [Write-only](https://developer.hashicorp.com/terraform/language/resources/ephemeral#write-only-arguments)) Master username for the database cluster. Must start with a letter and contain only alphanumeric characters.  Cannot be changed after creation.
- `volume_size` (Number) Size of the storage volume in GB. Can be increased but not decreased after creation.

### Optional

- `backup_retention_days` (Number) Number of days to retain automated backups (1-35 days). Default is 7 days.
- `backup_start_at` (String) Time to initiate the daily backup in UTC (format: 'HH:MM:SS'). Default is '04:00:00'.
- `parameter_group` (String) ID of the parameter group to associate with the cluster.  Cannot be changed after creation.
- `volume_type` (String) Type of the storage volume (e.g., 'CLOUD_NVME15K' or 'CLOUD_NVME20K'). Cannot be changed after creation.

### Read-Only

- `addresses` (Attributes List) Network addresses for connecting to the cluster. (see [below for nested schema](#nestedatt--addresses))
- `apply_parameters_pending` (Boolean) Indicates if parameters changes are pending application.
- `created_at` (String) Timestamp of when the cluster was created.
- `engine_id` (String) ID of the database engine.
- `finished_at` (String) Timestamp of when the cluster last finished an operation.
- `id` (String) Unique identifier for the DBaaS cluster. Generated automatically on creation.
- `instance_type_id` (String) ID of the instance type.
- `started_at` (String) Timestamp of when the cluster was last started.
- `status` (String) Current status of the DBaaS cluster.
- `updated_at` (String) Timestamp of when the cluster was last updated.

<a id="nestedatt--addresses"></a>
### Nested Schema for `addresses`

Read-Only:

- `access` (String) Access type (e.g., 'public', 'private').
- `address` (String) The IP address or hostname.
- `port` (String) The port number.
- `purpose` (String) The port purpose ([READ_WRITE, READONLY, METRICS, LOGS]).
- `type` (String) Address type (e.g., 'read-write', 'read-only').

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import mgc_dbaas_clusters.my_cluster_no_parameter_group <cluster_id>
```

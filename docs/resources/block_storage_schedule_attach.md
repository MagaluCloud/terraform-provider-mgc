---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "mgc_block_storage_schedule_attach Resource - terraform-provider-mgc"
subcategory: "Block Storage"
description: |-
  Attaches a block storage volume to a snapshot schedule. This creates a relationship between a volume and a schedule, allowing the schedule to create snapshots of the volume.
---

# mgc_block_storage_schedule_attach (Resource)

Attaches a block storage volume to a snapshot schedule. This creates a relationship between a volume and a schedule, allowing the schedule to create snapshots of the volume.

## Example Usage

```terraform
# Create a block storage volume
resource "mgc_block_storage_volumes" "example_volume" {
  name              = "example-volume"
  availability_zone = "br-ne1-a"
  size              = 50
  type              = "cloud_nvme1k"
}

# Create a snapshot schedule
resource "mgc_block_storage_schedule" "daily_backup" {
  name                              = "daily-backup-schedule"
  description                       = "Daily backup schedule for production volumes"
  snapshot_type                     = "instant"
  policy_retention_in_days          = 7
  policy_frequency_daily_start_time = "02:00:00"
}

# Attach the volume to the schedule
resource "mgc_block_storage_schedule_attach" "example_attach" {
  schedule_id = mgc_block_storage_schedule.daily_backup.id
  volume_id   = mgc_block_storage_volumes.example_volume.id
}

# Multiple volumes can be attached to the same schedule
resource "mgc_block_storage_volumes" "another_volume" {
  name              = "another-volume"
  availability_zone = "br-ne1-a"
  size              = 100
  type              = "cloud_nvme1k"
}

resource "mgc_block_storage_schedule_attach" "another_attach" {
  schedule_id = mgc_block_storage_schedule.daily_backup.id
  volume_id   = mgc_block_storage_volumes.another_volume.id
}

# A volume can also be attached to multiple schedules
resource "mgc_block_storage_schedule" "weekly_backup" {
  name                              = "weekly-backup-schedule"
  description                       = "Weekly backup schedule for long-term retention"
  snapshot_type                     = "object"
  policy_retention_in_days          = 30
  policy_frequency_daily_start_time = "03:00:00"
}

resource "mgc_block_storage_schedule_attach" "multi_schedule_attach" {
  schedule_id = mgc_block_storage_schedule.weekly_backup.id
  volume_id   = mgc_block_storage_volumes.example_volume.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `schedule_id` (String) The ID of the snapshot schedule to attach the volume to.
- `volume_id` (String) The ID of the block storage volume to attach to the schedule.

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
# Import a block storage schedule attach resource
# The import ID format is: schedule_id,volume_id

# Example: Import an existing schedule-volume attachment
terraform import mgc_block_storage_schedule_attach.example_attach "schedule-123,volume-456"
```
